todos:

Check for segfaults in simulated code
more valgrinding
report